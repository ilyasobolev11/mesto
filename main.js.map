{"version":3,"sources":["webpack://mesto/webpack/bootstrap","webpack://mesto/webpack/runtime/publicPath","webpack://mesto/./src/utils/constants.js","webpack://mesto/./src/components/FormValidator.js","webpack://mesto/./src/components/Card.js","webpack://mesto/./src/components/Section.js","webpack://mesto/./src/components/Popup.js","webpack://mesto/./src/components/PopupWithImage.js","webpack://mesto/./src/components/PopupWithForm.js","webpack://mesto/./src/pages/index.js","webpack://mesto/./src/components/Api.js","webpack://mesto/./src/components/ContainerStatusNotification.js","webpack://mesto/./src/components/UserInfo.js"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","p","selectorObj","validationConfig","formSelector","inputSelector","inputErrorClass","submitButtonSelector","disabledButtonClass","editButton","document","querySelector","addButton","avatarElement","FormValidator","_inputList","forEach","inputElement","_hideInputError","_toggleButtonState","_formElement","addEventListener","evt","preventDefault","_setEventListeners","this","_config","_submitButtonElement","classList","remove","removeAttribute","add","setAttribute","checkValidity","_enableButton","_disableButton","errorElement","id","textContent","validationMessage","validity","valid","_showInputError","querySelectorAll","_checkInputValidity","Card","templateSelector","currentUserId","openPopupZoomImgHandler","openPopupConfirmDeleteCard","putLike","removeLike","imgPlaceholder","name","link","likes","_id","owner","_name","_link","_cardOwnerId","_templateSelector","_currentUserId","_cardImgClickHandler","_deleteBtnClickHandler","_putLikeHandler","_removeLikeHandler","_imgPlaceholder","content","cloneNode","_likeButton","toggle","toggleLikeBtnState","contains","_likeState","some","_likesCountElement","length","likeBtnClickHandler","_imgElement","_deleteButton","undefined","cardElement","_getTemplate","_checkOwner","src","alt","_setLikesInitialValue","updateLikesCount","onerror","Section","containerSelector","render","checkContainer","_render","_checkContainer","_container","item","append","prepend","cards","addItem","Popup","popupSelector","key","close","popup","open","bind","_handleEscClose","removeEventListener","target","_handlePopupOverlayClick","PopupWithImage","_imgCaptionElement","text","PopupWithForm","submit","submitBtnTextConfig","resetValidation","getInitialValues","_form","submitButton","submitButtonText","_submitHandler","_resetValidation","_getInitialValues","_inputValues","input","value","_initialValues","submitProcess","_getInputValues","currentCard","default","_setInputValues","reset","handleError","err","console","log","renderCard","userInfo","userId","popupZoomImg","popupConfirmDeleteCard","generateCardElement","card","api","then","catch","url","token","_url","_token","res","textErr","ok","json","Promise","reject","Error","status","statusText","path","fetch","headers","_getResponseBody","userName","method","body","JSON","stringify","about","avatar","cardData","authorization","elementListNotification","textNotification","loagingSpinner","hasChildNodes","_textNotification","_visibleTextNotificationClass","_loagingSpinner","_visibleLoagingSpinnerClass","selector","visibleElementClass","cardList","check","nameElementSelector","statusElementSelector","avatarElementSelector","_nameElement","_statusElement","_avatarElement","editAvatarFormVlidation","enableValidation","editProfileFormValidation","createCardFormValidation","popupEditAvatar","inputValues","updateAvatar","userData","setUserInfo","finally","ready","popupEditProfile","updateUserData","getUserInfo","popupCreateCard","sendNewCard","deleteCard","message","setEventListeners","button","all","getUserData","getInitialCards","initialCards","toggleLoadingSpinnerVisibility","renderItems"],"mappings":"yGACIA,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,QCpBfF,EAAoBK,EAAI,G,MCAxB,IAAMC,EAQiB,kBAmBjBC,EAAkB,CACpBC,aAAc,eACdC,cAAe,gBACfC,gBAAiB,0BACjBC,qBAAsB,qBACtBC,oBAAqB,8BA+BnBC,EAAaC,SAASC,cA9DJ,sBA+DlBC,EAAYF,SAASC,cA9DJ,qBA+DjBE,EAAgBH,SAASC,cA5DK,mB,0SCLfG,E,WACnB,WAAYX,EAAkBC,GAAc,Y,4FAAA,mCAoE1B,WAChB,EAAKW,WAAWC,SAAQ,SAAAC,GAAY,OAAI,EAAKC,gBAAgBD,MAC7D,EAAKE,wBAtEqC,2BAyEzB,WACjB,EAAKC,aAAaC,iBAAiB,UAAU,SAAAC,GAAG,OAAIA,EAAIC,oBACxD,EAAKC,wBA1ELC,KAAKC,QAAUvB,EACfsB,KAAKL,aAAeV,SAASC,cAAcP,G,kDAG7C,WACEqB,KAAKE,qBACFC,UACAC,OAAOJ,KAAKC,QAAQlB,qBACvBiB,KAAKE,qBACFG,gBAAgB,c,4BAGrB,WACEL,KAAKE,qBACFC,UACAG,IAAIN,KAAKC,QAAQlB,qBACpBiB,KAAKE,qBACFK,aAAa,WAAY,U,gCAG9B,WACMP,KAAKL,aAAaa,gBACpBR,KAAKS,gBAELT,KAAKU,mB,6BAIT,SAAgBlB,GACd,IAAMmB,EACJX,KAAKL,aACJT,cADD,WACmBM,EAAaoB,GADhC,WAEFpB,EAAaW,UAAUC,OAAOJ,KAAKC,QAAQpB,iBAC3C8B,EAAaE,YAAc,K,6BAG7B,SAAgBrB,GACd,IAAMmB,EACJX,KAAKL,aACJT,cADD,WACmBM,EAAaoB,GADhC,WAEFpB,EAAaW,UAAUG,IAAIN,KAAKC,QAAQpB,iBACxC8B,EAAaE,YAAcrB,EAAasB,oB,iCAG1C,SAAoBtB,GACdA,EAAauB,SAASC,MACxBhB,KAAKP,gBAAgBD,GAErBQ,KAAKiB,gBAAgBzB,K,gCAIzB,WAAqB,WACnBQ,KAAKE,qBACHF,KAAKL,aACJT,cAAcc,KAAKC,QAAQnB,sBAC9BkB,KAAKV,WACHU,KAAKL,aACJuB,iBAAiBlB,KAAKC,QAAQrB,eACjCoB,KAAKV,WAAWC,SAAQ,SAAAC,GACtBA,EAAaI,iBAAiB,SAAS,WACrC,EAAKuB,oBAAoB3B,GACzB,EAAKE,gC,gMChEQ0B,E,WACnB,aAEEC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACA,IARCC,EAQD,EARCA,KAAMC,EAQP,EAROA,KAAMC,EAQb,EARaA,MAAOC,EAQpB,EARoBA,IAAKC,EAQzB,EARyBA,O,4FAQzB,SACAhC,KAAKiC,MAAQL,EACb5B,KAAKkC,MAAQL,EACb7B,KAAK8B,MAAQA,EACb9B,KAAKY,GAAKmB,EACV/B,KAAKmC,aAAeH,EAAMD,IAC1B/B,KAAKoC,kBAAoBf,EACzBrB,KAAKqC,eAAiBf,EACtBtB,KAAKsC,qBAAuBf,EAC5BvB,KAAKuC,uBAAyBf,EAC9BxB,KAAKwC,gBAAkBf,EACvBzB,KAAKyC,mBAAqBf,EAC1B1B,KAAK0C,gBAAkBf,E,iDAGzB,WACE,OAAO1C,SACJC,cAAcc,KAAKoC,mBACnBO,QACAzD,cAAc,mBACd0D,WAAU,K,gCAGf,WACE5C,KAAK6C,YAAY1C,UAAU2C,OAAO,+B,iCAIpC,WACE9C,KAAK+C,qBACD/C,KAAK6C,YAAY1C,UAAU6C,SAAS,6BAEtChD,KAAKwC,gBAAgBxC,MAGrBA,KAAKyC,mBAAmBzC,Q,mCAI5B,WAAwB,WACtBA,KAAKiD,WAAajD,KAAK8B,MAAMoB,MAAK,qBAAEnB,MAAiB,EAAKM,kBACtDrC,KAAKiD,YACPjD,KAAK6C,YAAY1C,UAAUG,IAAI,+B,8BAInC,WACEN,KAAKmD,mBAAmBtC,YAAcb,KAAK8B,MAAMsB,S,gCAGnD,WAAqB,WACnBpD,KAAK6C,YAAYjD,iBAAiB,SAAS,kBAAM,EAAKyD,yBACtDrD,KAAK6C,YAAYjD,iBAAiB,aAAa,SAAAC,GAAG,OAAIA,EAAIC,oBAC1DE,KAAKsD,YAAY1D,iBAAiB,SAAS,WACzC,EAAK0C,qBAAqB,EAAKJ,MAAO,EAAKD,UAEzCjC,KAAKuD,eACPvD,KAAKuD,cAAc3D,iBAAiB,SAAS,WAC3C,EAAK2C,uBAAuB,Q,yBAKlC,WACMvC,KAAKmC,eAAiBnC,KAAKqC,iBAC7BrC,KAAKuD,cAAcnD,SACnBJ,KAAKuD,mBAAgBC,K,iCAIzB,WAAsB,WAgCpB,OA/BAxD,KAAKyD,YAAczD,KAAK0D,eACxB1D,KAAKsD,YACHtD,KAAKyD,YACJvE,cAAc,uBACjBc,KAAK6C,YACH7C,KAAKyD,YACJvE,cAAc,uBACjBc,KAAKmD,mBACHnD,KAAKyD,YACJvE,cAAc,0BACjBc,KAAKuD,cACHvD,KAAKyD,YACJvE,cAAc,yBAEjBc,KAAK2D,cACL3D,KAAKD,qBAELC,KAAKyD,YACFvE,cAAc,yBACd2B,YAAcb,KAAKiC,MACtBjC,KAAKsD,YAAYM,IAAM5D,KAAKkC,MAC5BlC,KAAKsD,YAAYO,IAAjB,iBAAiC7D,KAAKiC,OACtCjC,KAAK8D,wBACL9D,KAAK+D,mBAEL/D,KAAKsD,YAAYU,QAAU,WACrB,EAAKtB,kBACP,EAAKY,YAAYM,IAAM,EAAKlB,kBAIzB1C,KAAKyD,iB,wTChHKQ,E,WACnB,aAAuCC,GAAmB,IAA5CC,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,gB,4FAAoC,SACxDpE,KAAKqE,QAAUF,EACfnE,KAAKsE,gBAAkBF,EACvBpE,KAAKuE,WAAatF,SAASC,cAAcgF,G,4CAG3C,SAAQM,EAAMC,GACRA,EACFzE,KAAKuE,WAAWE,OAAOD,GAEvBxE,KAAKuE,WAAWG,QAAQF,GAEtBxE,KAAKsE,iBACPtE,KAAKsE,oB,yBAIT,SAAYK,GAAO,WACbA,EAAMvB,OAAS,EACjBuB,EAAMpF,SAAQ,SAAAiF,GAAI,OAAI,EAAKI,QAAQ,EAAKP,QAAQG,IAAO,MAC9CxE,KAAKsE,iBACdtE,KAAKsE,uB,wTCtBUO,E,WACnB,WAAYC,GAAe,I,IAAA,Q,4FAAA,S,EAeT,SAACjF,GACD,WAAZA,EAAIkF,KACN,EAAKC,U,EAjBkB,0B,sBAAA,K,uDAAA,K,KACzBhF,KAAKiF,MAAQhG,SAASC,cAAc4F,GACpC9E,KAAKkF,KAAOlF,KAAKkF,KAAKC,KAAKnF,M,yCAG7B,WACEA,KAAKiF,MAAM9E,UAAUG,IAAI,gBACzBrB,SAASW,iBAAiB,UAAWI,KAAKoF,mB,mBAG5C,WACEpF,KAAKiF,MAAM9E,UAAUC,OAAO,gBAC5BnB,SAASoG,oBAAoB,UAAWrF,KAAKoF,mB,sCAS/C,SAAyBvF,GACnBA,EAAIyF,OAAOnF,UAAU6C,SAAS,UAChChD,KAAKgF,U,+BAIT,WAAoB,WAClBhF,KAAKiF,MACF/F,cAAc,qBACdU,iBAAiB,SAAS,kBAAM,EAAKoF,WACxChF,KAAKiF,MACFrF,iBAAiB,YAAaI,KAAKuF,yBAAyBJ,KAAKnF,Y,wmCC/BnDwF,E,kpBACnB,WAAYV,GAAe,a,4FAAA,UACzB,cAAMA,IACDxB,YAAc,EAAK2B,MAAM/F,cAAc,eAC5C,EAAKuG,mBAAqB,EAAKR,MAAM/F,cAAc,uBAH1B,E,iCAM3B,SAAK2C,EAAM6D,GACT,yCACA1F,KAAKsD,YAAYM,IAAM/B,EACvB7B,KAAKsD,YAAYO,IAAjB,iBAAiC6B,GACjC1F,KAAKyF,mBAAmB5E,YAAc6E,O,oBAXEb,G,klCCAvBc,E,kpBACnB,WAAYb,EAAec,EAAQC,EAAqBC,EAAiBC,GAAkB,a,4FAAA,UACzF,cAAMjB,IACDkB,MAAQ,EAAKf,MAAM/F,cAAc,gBACtC,EAAKI,WAAa,EAAK0G,MAAM9E,iBAAiB,iBAC9C,EAAK+E,aAAe,EAAKD,MAAM9G,cAAc,sBAC7C,EAAKgH,iBAAmBL,EACxB,EAAKM,eAAiBP,EACtB,EAAKQ,iBAAmBN,EACxB,EAAKO,kBAAoBN,EAEzB,EAAKhG,qBAVoF,E,4CAa3F,WAAkB,WAChB,GAAIC,KAAKV,WAGP,OAFAU,KAAKsG,aAAe,GACpBtG,KAAKV,WAAWC,SAAQ,SAAAgH,GAAK,OAAI,EAAKD,aAAaC,EAAM3E,MAAQ2E,EAAMC,SAChExG,KAAKsG,e,6BAIhB,WAAkB,WAChBtG,KAAKV,WAAWC,SAAQ,SAAAgH,GAAK,OAAIA,EAAMC,MAAQ,EAAKC,eAAeF,EAAM3E,W,gCAG3E,WAAqB,WACnB,sDACA5B,KAAKgG,MAAMpG,iBAAiB,UAAU,SAAAC,GACpCA,EAAIC,iBACA,EAAKoG,mBACP,EAAKD,aAAapF,YAAc,EAAKqF,iBAAiBQ,eAExD,EAAKP,eAAe,EAAKQ,wB,kBAI7B,SAAKC,GACH,yCACI5G,KAAKoG,kBACPpG,KAAKoG,mBAEHpG,KAAKkG,mBACPlG,KAAKiG,aAAapF,YAAcb,KAAKkG,iBAAiBW,SAEpD7G,KAAKqG,oBACPrG,KAAKyG,eAAiBzG,KAAKqG,oBAC3BrG,KAAK8G,mBAEHF,IACF5G,KAAK4G,YAAcA,K,mBAIvB,WACE,0CACA5G,KAAKgG,MAAMe,a,oBAxD4BlC,G,u8BCmB3C,SAASmC,EAAYC,GACnBC,QAAQC,IAAIF,GAGd,SAASG,EAAW5C,GAWlB,OAVa,IAAIpD,EACfoD,EPpBsB,iBOsBtB6C,EAASC,OACTC,EAAarC,KACbsC,EAAuBtC,KACvBzD,EACAC,EACAC,GAEU8F,sBA8Bd,SAAShG,EAAQiG,GACfC,EAAIlG,QAAJ,uBAA4BiG,EAAK9G,KAC9BgH,MAAK,YAAa,IAAX9F,EAAW,EAAXA,MACN4F,EAAK5F,MAAQA,EACb4F,EAAK3D,sBAEN8D,OAAM,SAACZ,GACND,EAAYC,GACZS,EAAK3E,wBAKX,SAASrB,EAAWgG,GAClBC,EAAIjG,WAAJ,uBAA+BgG,EAAK9G,KACjCgH,MAAK,YAAa,IAAX9F,EAAW,EAAXA,MACN4F,EAAK5F,MAAQA,EACb4F,EAAK3D,sBAEN8D,OAAM,SAACZ,GACND,EAAYC,GACZS,EAAK3E,wBA6CX,IAAM4E,EAAM,I,WCnIV,cAA0B,IAAbG,EAAa,EAAbA,IAAKC,EAAQ,EAARA,O,4FAAQ,SACxB/H,KAAKgI,KAAOF,EACZ9H,KAAKiI,OAASF,E,qDAGhB,SAAiBG,EAAKC,GACpB,OAAID,EAAIE,GACCF,EAAIG,OAENC,QAAQC,OAAO,IAAIC,MAAJ,iBAAoBL,EAApB,aAAgCD,EAAIO,OAApC,cAAgDP,EAAIQ,gB,yBAG5E,SAAYC,GAAM,WAChB,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCE,QAAS7I,KAAKiI,SAEbL,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,oB,6BAG9C,SAAgBS,GAAM,WACpB,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCE,QAAS7I,KAAKiI,SAEbL,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,wB,4BAG9C,WAAmCS,GAAM,WAAzBI,EAAyB,EAAzBA,SAAUN,EAAe,EAAfA,OACxB,OAAOG,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,QACRH,QAAS,EAAF,KACF7I,KAAKiI,QADH,IAEL,eAAgB,qBAElBgB,KAAMC,KAAKC,UAAU,CACnBvH,KAAMmH,EACNK,MAAOX,MAGRb,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,uB,0BAG9C,SAAamB,EAAQV,GAAM,WACzB,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,QACRH,QAAS,EAAF,KACF7I,KAAKiI,QADH,IAEL,eAAgB,qBAElBgB,KAAMC,KAAKC,UAAUE,KAEpBzB,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,qB,yBAG9C,SAAYoB,EAAUX,GAAM,WAC1B,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,OACRH,QAAS,EAAF,KACF7I,KAAKiI,QADH,IAEL,eAAgB,qBAElBgB,KAAMC,KAAKC,UAAUG,KAEpB1B,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,oB,wBAG9C,SAAWS,GAAM,WACf,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,SACRH,QAAS7I,KAAKiI,SAEbL,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,mB,qBAG9C,SAAQS,GAAM,WACZ,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,MACRH,QAAS7I,KAAKiI,SAEbL,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,gB,wBAG9C,SAAWS,GAAM,WACf,OAAOC,MAAM,GAAD,OAAI5I,KAAKgI,MAAT,OAAgBW,GAAQ,CAClCK,OAAQ,SACRH,QAAS7I,KAAKiI,SAEbL,MAAK,SAACM,GAAD,OAAS,EAAKY,iBAAiBZ,EAAK,sB,sBD6CpC,CP1EM,CAChBJ,IAAK,8CACLC,MAAO,CAACwB,cAAe,0CO0EnBC,EAA0B,IErI9B,WAAYC,EAAkBC,EAAgBxF,GAAmB,Y,4FAAA,yBAQzD,WACF,EAAKK,WAAWoF,gBAClB,EAAKC,kBAAkBzJ,UAAUC,OAAO,EAAKyJ,+BAG7C,EAAKD,kBAAkBzJ,UAAUG,IAAI,EAAKuJ,kCAbmB,yCAiBhC,WAC/B,EAAKC,gBAAgB3J,UAAU2C,OAAO,EAAKiH,gCAjB3C/J,KAAKuE,WAAatF,SAASC,cAAcgF,GACzClE,KAAK4J,kBAAoB3K,SAASC,cAAcuK,EAAiBO,UACjEhK,KAAK8J,gBAAkB7K,SAASC,cAAcwK,EAAeM,UAC7DhK,KAAK6J,8BAAgCJ,EAAiBQ,oBACtDjK,KAAK+J,4BAA8BL,EAAeO,oBFgItB,CPzHV,CAChBD,SAAU,+BACVC,oBAAqB,uCANP,CACdD,SAAU,qBACVC,oBAAqB,4BO8HzBxL,GAGIyL,EAAW,IAAIjG,EACnB,CACEE,OAAQiD,EACRhD,eAAgBoF,EAAwBW,OAE1C1L,GAGI4I,EAAW,IGnJf,WAAY+C,EAAqBC,EAAuBC,GAAuB,Y,4FAAA,+BAMjE,WACZ,MAAO,CACLvB,SAAU,EAAKwB,aAAa1J,YAC5B4H,OAAQ,EAAK+B,eAAe3J,gBAT+C,sBAajE,YAAgC,IAA9Be,EAA8B,EAA9BA,KAAMwH,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,OAAQtH,EAAS,EAATA,IACnC,EAAKwI,aAAa1J,YAAce,EAChC,EAAK4I,eAAe3J,YAAcuI,EAClC,EAAK9B,OAASvF,EACd,EAAK0I,eAAe7G,IAAMyF,KAhB1BrJ,KAAKuK,aAAetL,SAASC,cAAckL,GAC3CpK,KAAKwK,eAAiBvL,SAASC,cAAcmL,GAC7CrK,KAAKyK,eAAiBxL,SAASC,cAAcoL,GHgJhC,CPjJY,sBACF,wBAEA,oBOoJrBI,EAA0B,IAAIrL,EAAcX,EPxItB,wCOyI5BgM,EAAwBC,mBAExB,IAAMC,EAA4B,IAAIvL,EAAcX,EPzIvB,yCO0I7BkM,EAA0BD,mBAE1B,IAAME,EAA2B,IAAIxL,EAAcX,EP1IvB,wCO2I5BmM,EAAyBF,mBAEzB,IAAMG,EAAkB,IAAInF,EPlJC,2BO2E7B,SAAsBoF,GACpBpD,EAAIqD,aAAaD,EAAa,oBAC3BnD,MAAK,SAACqD,GACL5D,EAAS6D,YAAYD,MAEtBpD,MAAMb,GACNmE,SAAQ,WACPL,EAAgB9F,QAChB8F,EAAgB7E,aAAapF,YAAciK,EAAgB5E,iBAAiBkF,WPhE/D,CACfvE,QAAS,YACTH,cAAe,gBACf0E,MAAO,UOgITV,EAAwB5E,iBAGpBuF,EAAmB,IAAI1F,EPvJC,4BOqF9B,SAAwBoF,GACtBpD,EAAI2D,eAAeP,EAAa,aAC7BnD,MAAK,SAACqD,GACL5D,EAAS6D,YAAYD,MAEtBpD,MAAMb,GACNmE,SAAQ,WACPE,EAAiBrG,QACjBqG,EAAiBpF,aAAapF,YAAcwK,EAAiBnF,iBAAiBkF,WPvEhE,CAChBvE,QAAS,YACTH,cAAe,gBACf0E,MAAO,UOkITR,EAA0B9E,gBAC1BuB,EAASkE,aAGLC,EAAkB,IAAI7F,EP7JC,2BOkB7B,SAAoBoF,GAClBpD,EAAI8D,YAAYV,EAAa,WAC1BnD,MAAK,SAAC0B,GACLY,EAAStF,QAAQwC,EAAWkC,OAE7BzB,MAAMb,GACNmE,SAAQ,WACPK,EAAgBxG,QAChBwG,EAAgBvF,aAAapF,YAAc2K,EAAgBtF,iBAAiBkF,WPD/D,CACfvE,QAAS,UACTH,cAAe,cACf0E,MAAO,UOqITP,EAAyB/E,iBAGrB0B,EAAyB,IAAI7B,EPlKP,mCO4B5B,WACEgC,EAAI+D,WAAJ,iBAAyBlE,EAAuBZ,YAAYhG,KACzDgH,MAAK,SAACM,GACLhB,QAAQC,IAAIe,EAAIyD,SAChBnE,EAAuBZ,YAAYnD,YAAYrD,SAE/CoJ,EAAwBW,WAEzBtC,MAAMb,GACNmE,SAAQ,WACP3D,EAAuBxC,QACvBwC,EAAuBvB,aAAapF,YAAc2G,EAAuBtB,iBAAiBkF,WPXtE,CACtBvE,QAAS,KACTH,cAAe,cACf0E,MAAO,WOyIL7D,EAAe,IAAI/B,EPvKC,wBOwK1B+B,EAAaqE,oBAEb3M,SAASiC,iBAAiB,UAAU3B,SAAQ,SAAAsM,GAC1CA,EAAOjM,iBAAiB,aAAa,SAAAC,GAAG,OAAIA,EAAIC,uBAGlDV,EAAcQ,iBAAiB,aAAa,SAAAC,GAAG,OAAIA,EAAIC,oBACvDV,EAAcQ,iBAAiB,SAAS,WACtCkL,EAAgB5F,UAGlBlG,EAAWY,iBAAiB,SAAS,WACnCyL,EAAiBnG,UAGnB/F,EAAUS,iBAAiB,SAAS,WAClC4L,EAAgBtG,UAxFhBoD,QAAQwD,IAAI,CACVnE,EAAIoE,YAAY,aAChBpE,EAAIqE,gBAAgB,YAEnBpE,MAAK,YAA8B,I,IAAA,G,EAAA,E,4CAAA,I,owBAA5BqD,EAA4B,KAAlBgB,EAAkB,KAClC5E,EAAS6D,YAAYD,GACrBzB,EAAwB0C,iCACxBhC,EAASiC,YAAYF,MAEtBpE,OAAM,SAACZ,GAAD,OAASC,QAAQC,IAAIF,O","file":"main.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.p = \"\";","const selectorObj = {\r\n    editButtonSelector: '.profile__edit-btn',\r\n    addButtonSelector: '.profile__add-btn',\r\n    userNameElementSelector: '.profile__user-name',\r\n    statusElementSelector: '.profile__user-status',\r\n    avatarContainerElementSelector: '.profile__cover',\r\n    avatarElementSelector: '.profile__avatar',\r\n    cardTemplateSelector: '#card-template',\r\n    containerSelector: '.elements__list',\r\n    loagingSpinner: {\r\n      selector: '.elements__spinner',\r\n      visibleElementClass: 'elements__spinner_hidden'\r\n    },\r\n    textNotification: {\r\n      selector: '.elements__text-notification',\r\n      visibleElementClass: 'elements__text-notification_visible'\r\n    },\r\n    popupEditAvatarSelector: '.popup_type_edit-avatar',\r\n    editAvatarFormSelector: '.popup_type_edit-avatar .popup__form',\r\n    popupEditProfileSelector: '.popup_type_edit-profile',\r\n    editProfileFormSelector: '.popup_type_edit-profile .popup__form',\r\n    popupCreateCardSelector: '.popup_type_create-card',\r\n    createCardFormSelector: '.popup_type_create-card .popup__form',\r\n    popupConfirmDeleteCard: '.popup_type_confirm-delete-card',\r\n    popupZoomImgSelector: '.popup_type_zoom-img'\r\n  };\r\n\r\nconst validationConfig= {\r\n    formSelector: '.popup__form',\r\n    inputSelector: '.popup__input',\r\n    inputErrorClass: 'popup__input_type_error',\r\n    submitButtonSelector: '.popup__submit-btn',\r\n    disabledButtonClass: 'popup__submit-btn_disabled'\r\n  };\r\n\r\nconst submitButtonTextConfig = {\r\n  popupEditAvatar: {\r\n    default: 'Сохранить',\r\n    submitProcess: 'Сохранение...',\r\n    ready: 'Готово'\r\n  },\r\n  popupEditProfile: {\r\n    default: 'Сохранить',\r\n    submitProcess: 'Сохранение...',\r\n    ready: 'Готово'\r\n  },\r\n  popupCreateCard: {\r\n    default: 'Создать',\r\n    submitProcess: 'Создание...',\r\n    ready: 'Готово'\r\n  },\r\n  popupConfirmDeleteCard: {\r\n    default: 'Да',\r\n    submitProcess: 'Удаление...',\r\n    ready: 'Готово'\r\n  }\r\n}\r\n\r\nconst apiConfig = {\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  token: {authorization: '614d3213-6f90-4cae-80f4-7341542ff306'}\r\n}\r\n\r\nconst editButton = document.querySelector(selectorObj.editButtonSelector);\r\nconst addButton = document.querySelector(selectorObj.addButtonSelector);\r\nconst avatarElement = document.querySelector(selectorObj.avatarContainerElementSelector);\r\n\r\nexport {\r\n    selectorObj,\r\n    validationConfig,\r\n    submitButtonTextConfig,\r\n    apiConfig,\r\n    avatarElement,\r\n    editButton,\r\n    addButton\r\n};\r\n","export default class FormValidator {\r\n  constructor(validationConfig, formSelector) {\r\n    this._config = validationConfig;\r\n    this._formElement = document.querySelector(formSelector);\r\n  }\r\n\r\n  _enableButton() {\r\n    this._submitButtonElement\r\n      .classList\r\n      .remove(this._config.disabledButtonClass);\r\n    this._submitButtonElement\r\n      .removeAttribute('disabled');\r\n  }\r\n\r\n  _disableButton() {\r\n    this._submitButtonElement\r\n      .classList\r\n      .add(this._config.disabledButtonClass);\r\n    this._submitButtonElement\r\n      .setAttribute('disabled', 'true');\r\n  }\r\n\r\n  _toggleButtonState() {\r\n    if (this._formElement.checkValidity()) {\r\n      this._enableButton();\r\n    } else {\r\n      this._disableButton();\r\n    }\r\n  }\r\n\r\n  _hideInputError(inputElement) {\r\n    const errorElement =\r\n      this._formElement\r\n      .querySelector(`#${inputElement.id}-error`);\r\n    inputElement.classList.remove(this._config.inputErrorClass);\r\n    errorElement.textContent = '';\r\n  }\r\n\r\n  _showInputError(inputElement) {\r\n    const errorElement =\r\n      this._formElement\r\n      .querySelector(`#${inputElement.id}-error`);\r\n    inputElement.classList.add(this._config.inputErrorClass);\r\n    errorElement.textContent = inputElement.validationMessage;\r\n  }\r\n\r\n  _checkInputValidity(inputElement) {\r\n    if (inputElement.validity.valid) {\r\n      this._hideInputError(inputElement);\r\n    } else {\r\n      this._showInputError(inputElement);\r\n    }\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._submitButtonElement =\r\n      this._formElement\r\n      .querySelector(this._config.submitButtonSelector);\r\n    this._inputList =\r\n      this._formElement\r\n      .querySelectorAll(this._config.inputSelector);\r\n    this._inputList.forEach(inputElement => {\r\n      inputElement.addEventListener('input', () => {\r\n        this._checkInputValidity(inputElement);\r\n        this._toggleButtonState();\r\n      });\r\n    });\r\n  }\r\n\r\n  resetValidation = () => {\r\n    this._inputList.forEach(inputElement => this._hideInputError(inputElement));\r\n    this._toggleButtonState();\r\n  }\r\n\r\n  enableValidation = () => {\r\n    this._formElement.addEventListener('submit', evt => evt.preventDefault());\r\n    this._setEventListeners();\r\n  }\r\n}\r\n","export default class Card {\r\n  constructor(\r\n    {name, link, likes, _id, owner},\r\n    templateSelector,\r\n    currentUserId,\r\n    openPopupZoomImgHandler,\r\n    openPopupConfirmDeleteCard,\r\n    putLike,\r\n    removeLike,\r\n    imgPlaceholder\r\n  ) {\r\n    this._name = name;\r\n    this._link = link;\r\n    this.likes = likes;\r\n    this.id = _id;\r\n    this._cardOwnerId = owner._id;\r\n    this._templateSelector = templateSelector;\r\n    this._currentUserId = currentUserId;\r\n    this._cardImgClickHandler = openPopupZoomImgHandler;\r\n    this._deleteBtnClickHandler = openPopupConfirmDeleteCard;\r\n    this._putLikeHandler = putLike;\r\n    this._removeLikeHandler = removeLike;\r\n    this._imgPlaceholder = imgPlaceholder;\r\n  }\r\n\r\n  _getTemplate() {\r\n    return document\r\n      .querySelector(this._templateSelector)\r\n      .content\r\n      .querySelector('.elements__item')\r\n      .cloneNode(true);\r\n  }\r\n\r\n  toggleLikeBtnState() {\r\n    this._likeButton.classList.toggle('elements__like-btn_active');\r\n  }\r\n\r\n  //как тут быть? реализовать по приципу \"оптимистичный UI\", или дожидаться ответа от сервера и только потом проставлять кол. лайков?\r\n  likeBtnClickHandler() {\r\n    this.toggleLikeBtnState();\r\n    if (this._likeButton.classList.contains('elements__like-btn_active')) {\r\n      //this._likesCountElement.textContent = Number(this._likesCountElement.textContent) + 1;\r\n      this._putLikeHandler(this);\r\n    } else {\r\n      //this._likesCountElement.textContent = Number(this._likesCountElement.textContent) - 1;\r\n      this._removeLikeHandler(this);\r\n    }\r\n  }\r\n\r\n  _setLikesInitialValue() {//state\r\n    this._likeState = this.likes.some(({_id}) => _id === this._currentUserId);\r\n    if (this._likeState) {\r\n      this._likeButton.classList.add('elements__like-btn_active');\r\n    }\r\n  }\r\n\r\n  updateLikesCount() {\r\n    this._likesCountElement.textContent = this.likes.length;\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._likeButton.addEventListener('click', () => this.likeBtnClickHandler());\r\n    this._likeButton.addEventListener('mousedown', evt => evt.preventDefault());\r\n    this._imgElement.addEventListener('click', () => {\r\n      this._cardImgClickHandler(this._link, this._name);\r\n    });\r\n    if (this._deleteButton) {\r\n      this._deleteButton.addEventListener('click', () => {\r\n        this._deleteBtnClickHandler(this);\r\n      });\r\n    }\r\n  }\r\n\r\n  _checkOwner() {\r\n    if (this._cardOwnerId !== this._currentUserId) {\r\n      this._deleteButton.remove();\r\n      this._deleteButton = undefined;\r\n    }\r\n  }\r\n\r\n  generateCardElement() {\r\n    this.cardElement = this._getTemplate();\r\n    this._imgElement =\r\n      this.cardElement\r\n      .querySelector('.elements__item-img');\r\n    this._likeButton =\r\n      this.cardElement\r\n      .querySelector('.elements__like-btn');\r\n    this._likesCountElement =\r\n      this.cardElement\r\n      .querySelector('.elements__likes-count');\r\n    this._deleteButton =\r\n      this.cardElement\r\n      .querySelector('.elements__delete-btn')\r\n\r\n    this._checkOwner();\r\n    this._setEventListeners();\r\n\r\n    this.cardElement\r\n      .querySelector('.elements__item-title')\r\n      .textContent = this._name;\r\n    this._imgElement.src = this._link;\r\n    this._imgElement.alt = `Фото - ${this._name}`;\r\n    this._setLikesInitialValue();\r\n    this.updateLikesCount();\r\n\r\n    this._imgElement.onerror = () => {\r\n      if (this._imgPlaceholder) {\r\n        this._imgElement.src = this._imgPlaceholder;\r\n      }\r\n    }\r\n\r\n    return this.cardElement;\r\n  }\r\n}\r\n","export default class Section {\r\n  constructor ({render, checkContainer}, containerSelector) {\r\n    this._render = render;\r\n    this._checkContainer = checkContainer;\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  addItem(item, append) {\r\n    if (append) {\r\n      this._container.append(item);\r\n    } else {\r\n      this._container.prepend(item);\r\n    }\r\n    if (this._checkContainer) {\r\n      this._checkContainer();\r\n    }\r\n  }\r\n\r\n  renderItems(cards) {\r\n    if (cards.length > 0) {\r\n      cards.forEach(item => this.addItem(this._render(item), true));\r\n    } else if (this._checkContainer) {\r\n      this._checkContainer();\r\n    }\r\n  }\r\n}\r\n","export default class Popup {\r\n  constructor(popupSelector) {\r\n    this.popup = document.querySelector(popupSelector);\r\n    this.open = this.open.bind(this);\r\n  }\r\n\r\n  open() {\r\n    this.popup.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  close() {\r\n    this.popup.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  _handleEscClose = (evt) => {\r\n    if (evt.key === 'Escape') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  _handlePopupOverlayClick(evt) {\r\n    if (evt.target.classList.contains('popup')) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  setEventListeners() {\r\n    this.popup\r\n      .querySelector('.popup__close-btn')\r\n      .addEventListener('click', () => this.close());\r\n    this.popup\r\n      .addEventListener('mousedown', this._handlePopupOverlayClick.bind(this));\r\n  }\r\n}\r\n","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._imgElement = this.popup.querySelector('.popup__img');\r\n    this._imgCaptionElement = this.popup.querySelector('.popup__img-caption');\r\n  }\r\n\r\n  open(link, text) {\r\n    super.open();\r\n    this._imgElement.src = link;\r\n    this._imgElement.alt = `Фото - ${text}`;\r\n    this._imgCaptionElement.textContent = text;\r\n  }\r\n}\r\n","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, submit, submitBtnTextConfig, resetValidation, getInitialValues) {\r\n    super(popupSelector);\r\n    this._form = this.popup.querySelector('.popup__form');\r\n    this._inputList = this._form.querySelectorAll('.popup__input');\r\n    this.submitButton = this._form.querySelector('.popup__submit-btn');\r\n    this.submitButtonText = submitBtnTextConfig;\r\n    this._submitHandler = submit;\r\n    this._resetValidation = resetValidation;\r\n    this._getInitialValues = getInitialValues;\r\n\r\n    this._setEventListeners();\r\n  }\r\n\r\n  _getInputValues() {\r\n    if (this._inputList) {\r\n      this._inputValues = {};\r\n      this._inputList.forEach(input => this._inputValues[input.name] = input.value);\r\n      return this._inputValues;\r\n    }\r\n  }\r\n\r\n  _setInputValues() {\r\n    this._inputList.forEach(input => input.value = this._initialValues[input.name]);\r\n  }\r\n\r\n  _setEventListeners() { //сообщение об ошибке сохраниния на кнопке\r\n    super.setEventListeners();\r\n    this._form.addEventListener('submit', evt => {\r\n      evt.preventDefault();\r\n      if (this.submitButtonText) {\r\n        this.submitButton.textContent = this.submitButtonText.submitProcess;\r\n      }\r\n      this._submitHandler(this._getInputValues());\r\n    });\r\n  }\r\n\r\n  open(currentCard) {\r\n    super.open();\r\n    if (this._resetValidation) {\r\n      this._resetValidation();\r\n    }\r\n    if (this.submitButtonText) {\r\n      this.submitButton.textContent = this.submitButtonText.default;\r\n    }\r\n    if (this._getInitialValues) {\r\n      this._initialValues = this._getInitialValues();\r\n      this._setInputValues();\r\n    }\r\n    if (currentCard) {\r\n      this.currentCard = currentCard;\r\n    }\r\n  }\r\n\r\n  close() {\r\n    super.close();\r\n    this._form.reset();\r\n  }\r\n}\r\n","import './index.css'\r\n\r\nimport {\r\n  selectorObj,\r\n  validationConfig,\r\n  submitButtonTextConfig,\r\n  apiConfig,\r\n  avatarElement,\r\n  editButton,\r\n  addButton\r\n} from '../utils/constants.js';\r\nimport imgPlaceholder from '../images/img-placeholder.jpg';\r\nimport FormValidator from '../components/FormValidator.js';\r\nimport Card from '../components/Card.js';\r\nimport ContainerStatusNotification from '../components/ContainerStatusNotification.js';\r\nimport Section from '../components/Section.js';\r\nimport UserInfo from '../components/UserInfo.js';\r\nimport PopupWithImage from '../components/PopupWithImage.js';\r\nimport PopupWithForm from '../components/PopupWithForm.js';\r\nimport Api from '../components/Api';\r\n\r\nfunction handleError(err) {\r\n  console.log(err);\r\n}\r\n\r\nfunction renderCard(item) {\r\n  const card = new Card(\r\n    item,\r\n    selectorObj.cardTemplateSelector,\r\n    userInfo.userId,\r\n    popupZoomImg.open,\r\n    popupConfirmDeleteCard.open,\r\n    putLike,\r\n    removeLike,\r\n    imgPlaceholder\r\n  );\r\n  return card.generateCardElement();\r\n}\r\n\r\nfunction submitCard(inputValues) {\r\n  api.sendNewCard(inputValues, '/cards ')\r\n    .then((cardData) => {\r\n      cardList.addItem(renderCard(cardData));\r\n    })\r\n    .catch(handleError)\r\n    .finally(() => {\r\n      popupCreateCard.close();\r\n      popupCreateCard.submitButton.textContent = popupCreateCard.submitButtonText.ready;\r\n    });\r\n}\r\n\r\nfunction deleteCard() {\r\n  api.deleteCard(`/cards/${popupConfirmDeleteCard.currentCard.id}`)\r\n    .then((res) => {\r\n      console.log(res.message);\r\n      popupConfirmDeleteCard.currentCard.cardElement.remove();\r\n\r\n      elementListNotification.check();\r\n    })\r\n    .catch(handleError)\r\n    .finally(() => {\r\n      popupConfirmDeleteCard.close();\r\n      popupConfirmDeleteCard.submitButton.textContent = popupConfirmDeleteCard.submitButtonText.ready;\r\n    });\r\n}\r\n\r\nfunction putLike(card) {\r\n  api.putLike(`/cards/likes/${card.id}`)\r\n    .then(({likes}) => {\r\n      card.likes = likes;//мб передать в метод ниже и там установить?\r\n      card.updateLikesCount();\r\n    })\r\n    .catch((err) => {\r\n      handleError(err);\r\n      card.toggleLikeBtnState();\r\n      //card.updateLikesCount();\r\n    });\r\n}\r\n\r\nfunction removeLike(card) {\r\n  api.removeLike(`/cards/likes/${card.id}`)\r\n    .then(({likes}) => {\r\n      card.likes = likes;\r\n      card.updateLikesCount();\r\n    })\r\n    .catch((err) => {\r\n      handleError(err);\r\n      card.toggleLikeBtnState();\r\n      //card.updateLikesCount();\r\n    });\r\n}\r\n\r\nfunction submitAvatar(inputValues) {\r\n  api.updateAvatar(inputValues, '/users/me/avatar')\r\n    .then((userData) => {\r\n      userInfo.setUserInfo(userData);\r\n    })\r\n    .catch(handleError)\r\n    .finally(() => {\r\n      popupEditAvatar.close();//при ошибке не должен закрывать\r\n      popupEditAvatar.submitButton.textContent = popupEditAvatar.submitButtonText.ready;\r\n    });\r\n}\r\n\r\nfunction submitUserData(inputValues) {\r\n  api.updateUserData(inputValues, '/users/me')\r\n    .then((userData) => {\r\n      userInfo.setUserInfo(userData);\r\n    })\r\n    .catch(handleError)\r\n    .finally(() => {\r\n      popupEditProfile.close();\r\n      popupEditProfile.submitButton.textContent = popupEditProfile.submitButtonText.ready;\r\n    });\r\n}\r\n\r\nfunction renderInitialData() {\r\n  // Спасибо за объяснения. Одно не понял, из комментария относящихся к этому блоку. Зачем делать цепочку из 2-х then, если это\r\n  // все-равно синхронные операции, и, указав их порядок, они выполнятся друг за другом (как в коде ниже).\r\n\r\n  Promise.all([\r\n    api.getUserData('/users/me'),\r\n    api.getInitialCards('/cards')\r\n  ])\r\n    .then(([userData, initialCards]) => {\r\n      userInfo.setUserInfo(userData);\r\n      elementListNotification.toggleLoadingSpinnerVisibility();\r\n      cardList.renderItems(initialCards);\r\n    })\r\n    .catch((err) => console.log(err));\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\n\r\nconst elementListNotification = new ContainerStatusNotification(\r\n  selectorObj.textNotification,\r\n  selectorObj.loagingSpinner,\r\n  selectorObj.containerSelector\r\n);\r\n\r\nconst cardList = new Section(\r\n  {\r\n    render: renderCard,\r\n    checkContainer: elementListNotification.check\r\n  },\r\n  selectorObj.containerSelector\r\n);\r\n\r\nconst userInfo = new UserInfo(\r\n  selectorObj.userNameElementSelector,\r\n  selectorObj.statusElementSelector,\r\n  selectorObj.avatarElementSelector\r\n);\r\n\r\nconst editAvatarFormVlidation = new FormValidator(validationConfig, selectorObj.editAvatarFormSelector);\r\neditAvatarFormVlidation.enableValidation();\r\n\r\nconst editProfileFormValidation = new FormValidator(validationConfig, selectorObj.editProfileFormSelector);\r\neditProfileFormValidation.enableValidation();\r\n\r\nconst createCardFormValidation = new FormValidator(validationConfig, selectorObj.createCardFormSelector);\r\ncreateCardFormValidation.enableValidation();\r\n\r\nconst popupEditAvatar = new PopupWithForm(\r\n  selectorObj.popupEditAvatarSelector,\r\n  submitAvatar,\r\n  submitButtonTextConfig.popupEditAvatar,\r\n  editAvatarFormVlidation.resetValidation\r\n);\r\n\r\nconst popupEditProfile = new PopupWithForm(\r\n  selectorObj.popupEditProfileSelector,\r\n  submitUserData,\r\n  submitButtonTextConfig.popupEditProfile,\r\n  editProfileFormValidation.resetValidation,\r\n  userInfo.getUserInfo\r\n);\r\n\r\nconst popupCreateCard = new PopupWithForm(\r\n  selectorObj.popupCreateCardSelector,\r\n  submitCard,\r\n  submitButtonTextConfig.popupCreateCard,\r\n  createCardFormValidation.resetValidation\r\n);\r\n\r\nconst popupConfirmDeleteCard = new PopupWithForm(\r\n  selectorObj.popupConfirmDeleteCard,\r\n  deleteCard,\r\n  submitButtonTextConfig.popupConfirmDeleteCard\r\n);\r\n\r\nconst popupZoomImg = new PopupWithImage(selectorObj.popupZoomImgSelector);\r\npopupZoomImg.setEventListeners();\r\n\r\ndocument.querySelectorAll('button').forEach(button => {\r\n  button.addEventListener('mousedown', evt => evt.preventDefault());\r\n});\r\n\r\navatarElement.addEventListener('mousedown', evt => evt.preventDefault());\r\navatarElement.addEventListener('click', () => {\r\n  popupEditAvatar.open();\r\n});\r\n\r\neditButton.addEventListener('click', () => {\r\n  popupEditProfile.open();\r\n});\r\n\r\naddButton.addEventListener('click', () => {\r\n  popupCreateCard.open();\r\n});\r\n\r\nrenderInitialData();\r\n\r\n// function updateCardList() {\r\n//   api.getInitialCards('/cards')\r\n//     .then((initialCards) => {\r\n//       const container = document.querySelector(selectorObj.containerSelector);\r\n//       container.innerHTML = \"\";\r\n//       cardList.renderItems(initialCards);\r\n//     })\r\n//     .catch((err) => console.log(err));\r\n// }\r\n\r\n// setInterval(updateCardList, 30000);\r\n","export default class Api {\r\n  constructor({url, token}) {\r\n    this._url = url;\r\n    this._token = token;\r\n  }\r\n\r\n  _getResponseBody(res, textErr) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка ${textErr}: ${res.status} - ${res.statusText}`));\r\n  }\r\n\r\n  getUserData(path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'getUserData'));\r\n  }\r\n\r\n  getInitialCards(path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'getInitialCards'));\r\n  }\r\n\r\n  updateUserData({userName, status}, path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: status\r\n      })\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'updateUserData'));\r\n  }\r\n\r\n  updateAvatar(avatar, path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(avatar)\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'updateAvatar'));\r\n  }\r\n\r\n  sendNewCard(cardData, path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(cardData)\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'sendNewCard'));\r\n  }\r\n\r\n  deleteCard(path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'DELETE',\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'deleteCard'))\r\n  }\r\n  // два, почти одинаковых метода, тернарный оператор\r\n  putLike(path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'PUT',\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'putLike'))\r\n  }\r\n\r\n  removeLike(path) {\r\n    return fetch(`${this._url}${path}`, {\r\n      method: 'DELETE',\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'removeLike'))\r\n  }\r\n}\r\n","export default class ContainerStatusNotification {\r\n  constructor(textNotification, loagingSpinner, containerSelector) {\r\n    this._container = document.querySelector(containerSelector);\r\n    this._textNotification = document.querySelector(textNotification.selector);\r\n    this._loagingSpinner = document.querySelector(loagingSpinner.selector);\r\n    this._visibleTextNotificationClass = textNotification.visibleElementClass;\r\n    this._visibleLoagingSpinnerClass = loagingSpinner.visibleElementClass;\r\n  }\r\n\r\n  check = () => {\r\n    if (this._container.hasChildNodes()) {\r\n      this._textNotification.classList.remove(this._visibleTextNotificationClass);\r\n    }\r\n    else {\r\n      this._textNotification.classList.add(this._visibleTextNotificationClass);\r\n    }\r\n  }\r\n\r\n  toggleLoadingSpinnerVisibility = () => {\r\n    this._loagingSpinner.classList.toggle(this._visibleLoagingSpinnerClass);\r\n  }\r\n}\r\n","export default class UserInfo {\r\n  constructor(nameElementSelector, statusElementSelector, avatarElementSelector) {\r\n    this._nameElement = document.querySelector(nameElementSelector);\r\n    this._statusElement = document.querySelector(statusElementSelector);\r\n    this._avatarElement = document.querySelector(avatarElementSelector);\r\n  }\r\n\r\n  getUserInfo = () => {\r\n    return {\r\n      userName: this._nameElement.textContent,\r\n      status: this._statusElement.textContent\r\n    };\r\n  }\r\n\r\n  setUserInfo = ({name, about, avatar, _id}) => {\r\n    this._nameElement.textContent = name;\r\n    this._statusElement.textContent = about;\r\n    this.userId = _id;\r\n    this._avatarElement.src = avatar;\r\n\r\n  }\r\n}\r\n"],"sourceRoot":""}